--- src/racoon/grabmyaddr.c.orig	2003-08-29 17:02:19.000000000 +0200
+++ src/racoon/grabmyaddr.c	2003-08-29 17:03:05.000000000 +0200
@@ -342,6 +342,8 @@ grab_myaddrs()
 
 	for (ifap = ifa0; ifap; ifap = ifap->ifa_next) {
 
+		if (! ifap->ifa_addr)
+			continue;
 		if (ifap->ifa_addr->sa_family != AF_INET
 #ifdef INET6
 		 && ifap->ifa_addr->sa_family != AF_INET6
